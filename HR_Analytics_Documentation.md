# HR Analytica: System Documentation

This document provides a comprehensive guide to understanding the data structure, calculations, and visualizations within the HR Analytica Dashboard.

## 1. Data Source (Excel Template)
The system is powered by a standard Excel `.xlsx` file. The intelligence engine automatically parses, groups, and analyzes the data based on specific formatting rules.

### Structure Rules
- **Tabs (Sheets):** Each Excel sheet represents one month.
- **Naming:** Sheet names must contain a date (e.g., `Jan 2024`, `Oct-23`). The system sorts them chronologically.
- **Columns:** Standardized headers are required for accurate analysis.

### Required Columns

| Column Name | Usage |
| :--- | :--- |
| `Employee ID` | **Unique Identifier**. Triggers Joiner/Exit detection. |
| `Basic Salary` | Used to calculate **Salary Growth** (increments) and Stagnation. |
| `Total Salary` | Primary metric for **Total Cost** analysis. |
| `Department` | Grouping for Department Spend and Risk Analysis. |
| `Bonus` | Populates the Bonus Distribution chart. |
| `Taxes` | Used in the Cost Overview breakdown. |
| `Leave Taken` | Days of leave. Used to calculate **Risk Scores**. |

---

## 2. Logic & Calculations
The dashboard processes data in real-time. Below is the logic governing each metric.

### KPI Cards
*   **Total Payroll Cost**: Sum of `Total Salary` for all records in the selected timeframe.
    *   *Trend:* Compares current total vs. previous period. Red indicates cost increase.
*   **Latest Headcount**: Count of employees with `Status: Active` in the most recent selected month.
    *   *Trend:* Growth vs. previous month. Green indicates growth.
*   **New Joiners**:
    *   *Logic:* An employee is a "Joiner" if their `Employee ID` appears in the current month but was **absent** in the immediate prior month.
*   **Attrition (Exits)**:
    *   *Logic:* An employee is an "Exit" if their `Employee ID` existed in the prior month but is **absent** in the current month.
*   **Salary Growth**:
    *   *Logic:* Count of employees where `Current Basic Salary > Previous Basic Salary`.

---

## 3. Visualizations

### Cost Overview (Chart)
A line chart visualization of financial trends. Includes a dropdown to filter view modes:
-   **Full Overview**: Shows all cost lines.
-   **Total CTC**: Cost to Company (Total Salary + Employer PF).
-   **Basic Salary**: Base pay trends only.
-   **Taxes**: Tax deduction trends.

### Department Spend (Pie)
A proportional breakdown of where the money is going by Department.

### AI Workforce Diagnostics
The system runs algorithms to identify anomalies:
-   **Stagnant Pay**: Employees who have not received a `Basic Salary` increase for 12+ months.
-   **Risk Departments**: Depts where average leave > threshold (e.g. 2 days/month).
-   **Top Earners**: Employees with the highest cumulative `Total Salary`.
-   **Leave Outliers**: Individuals with excessive leave relative to the period.

---
*Generated by HR Analytica System*
